var React = require('react');

var router = require('router');
var collections = require('collections');

var FourOhFourPage = require('./404');

var GraphView = require('graph-view/graph-view');
var predicates = ['stewardOf'];
//TODO actions
var actions = []

var entities = [
  {
    id: 1,
    name: 'Mikey',
    handle: 'ahdinosaur',
    bio: "i'm a hippie hacker on a mission to demystify the magic of technology and put the people in control. i'm currently working on open source socioeconomic infrastructure within the Enspiral, Open App Ecosystem, and Bevry networks.",
    location: [
      {
        "@id": "http://sws.geonames.org/5332921/",
        "@type": "Place",
        name: "California"
      },
      {
        "@id": "http://sws.geonames.org/2186224/",
        "@type": "Place",
        name: "New Zealand"
      }
    ],
    url: "http://dinosaur.is",
    image: "http://gravatar.com/avatar/22ee24b84d0a2a9446fc9c0fe0652c46?s=512&d=identicon",
    memberships: [ { "@id": "http://api.craftodex.enspiral.info/memberships/craftworks-mikey" } ],
    groups: [ { "@id": "http://api.craftodex.enspiral.info/memberships/craftworks-mikey" }],
    stewardOf: [2,3]
  },
  {
    id: 2,
    name: 'Hannah',
    image: 'http://gravatar.com/avatar/afa91980b06fae820c502ed90f8431fd?s=512&d=identicon',
    stewardOf: null
  },
  {
    id: 3,
    name: 'Craig',
    image: "http://gravatar.com/avatar/8c1b99675b4ba19460bfed9a04739fc4?s=512&d=identicon",
    stewardOf: [4,5]
  },
  {
    id: 4,
    name: 'Nanz',
    image: "https://loomio-attachments.s3.amazonaws.com/users/uploaded_avatars/000/002/685/large/photo.jpeg?1417128452",
    stewardOf: null
  },
  {
    id: 5,
    name: 'Jesse',
    image: "http://gravatar.com/avatar/0b1941ab5c9e58601c0ada31f5b4b68b?s=512&d=identicon",
    stewardOf: 6
  },
  {
    id: 6,
    name: 'Nicola',
    image: "https://loomio-attachments.s3.amazonaws.com/users/uploaded_avatars/000/003/272/large/Photo_on_24-03-14_at_9.21_AM__4.jpg?1396254523",
    stewardOf: 7
  },
  {
    id: 7,
    name: 'Ayumi',
    image: "https://fbcdn-profile-a.akamaihd.net/hprofile-ak-xfp1/v/t1.0-1/p200x200/1962828_657670540966490_1592868860_n.jpg?oh=b6d86446394b918524eac13548b4c945&oe=558ECD62&__gda__=1431693074_689c19d320e10a74562a4870bade8f81",
    stewardOf: 8
  },
  {
    id: 8,
    name: 'Mix',
    image: "https://loomio-attachments.s3.amazonaws.com/users/uploaded_avatars/000/000/910/large/clown.jpg?1351919738",
    stewardOf: [9,10]
  },
  {
    id: 9,
    name: 'Dr Craig',
    image: "https://loomio-attachments.s3.amazonaws.com/users/uploaded_avatars/000/002/033/large/20140304_141657.jpg?1395016339",
    stewardOf: null
  },
  {
    id: 10,
    name: 'Joshua',
    image: "http://gravatar.com/avatar/18f5600722c7f9610cc59b1bff9c4c6f?s=512&d=identicon",
    stewardOf: [11, 12]
  },
  {
    id: 11,
    name: 'Derek',
    image: "https://loomio-attachments.s3.amazonaws.com/users/uploaded_avatars/000/012/157/large/derek.jpg?1403122552",
    stewardOf: 13
  },
  {
    id: 12,
    name: 'Genevieve',
    image: "https://loomio-attachments.s3.amazonaws.com/users/uploaded_avatars/000/004/638/large/Screenshot_2014-09-30_22.01.31.png?1412069313",
    stewardOf: null
  },
  {
    id: 13,
    name: 'Charlie',
    image: "https://loomio-attachments.s3.amazonaws.com/users/uploaded_avatars/000/002/032/large/Screenshot_from_2014-07-19_21_13_25.png?1405761285",
    stewardOf: [14,16]
  },
  {
    id: 14,
    name: 'Simon',
    image: "http://gravatar.com/avatar/98162f4ee6df6faff32fc6bdf78bd1db?s=512&d=identicon",
    stewardOf: 15
  },
  {
    id: 15,
    name: 'Stephanie',
    image: "https://loomio-attachments.s3.amazonaws.com/users/uploaded_avatars/000/005/059/large/7930_1225371748710_1061506529_733126_2312663_n.jpg?1370469512",
    stewardOf: 1
  },
  {
    id: 16,
    name: 'Jon',
    image: "https://loomio-attachments.s3.amazonaws.com/users/uploaded_avatars/000/000/003/large/strawberry.jpeg?1406161853",
    stewardOf: null
  },
];

module.exports = React.createClass({

  render: function () {
    var route = this.props.route;

    var Page;
    if (route) {
      Page = collections[route.collection].Page;
    } else {
      Page = FourOhFourPage;
    }

    return (
      <div>
        <header>
          {
            "collection: " + route.collection
            + ", id: " + route.id
            + ", relation: " + route.relation
            + ", query: " + JSON.stringify(route.query)
          }
        </header>
        <main>
          <Page
            route={this.props.route}
            model={this.props.model} />
          <GraphView entities={entities} predicates={predicates} actions={actions} />
        </main>
      </div>
    );
  },
});
